## Authentication Working Group Minutes

Tuesday, 2025/10/28

10:00 am ET

## Attendees:

Terrell Russell, Kory Draughn, Alan King, Claudio Cacciari (SURF)

## Minutes

### SUMMARY:

DISCUSSION

 - iRODS S3 API
   - Externalizing user mappings to a separate local file
     - https://github.com/irods/irods_client_s3_api/pull/176 
 - Client library implementations of 4.3 auth flows
   - C++, Python, Java - native, pam_password, pam_interactive
   - Go - none - will start seeing 'legacy' warnings with irods5
     - Created https://github.com/cyverse/go-irodsclient/issues/58 
 - OIDC/OAuth2 in HTTP API
   - Client mode removed in v0.6.0, protected resource only
   - JWT verification
     - Support for encrypted JWTs (once jwt-cpp is updated enough)
     - JOSE - Javascript Object Signing and Encryption (RFC 7165)
     - https://github.com/Thalhammer/jwt-cpp/issues/94
 - Syncing external user lists/groups -> iRODS user table
   - Part of conversation with Sanger as well
   - https://github.com/harrykodden/irods-ldap-sync 
   - https://datatracker.ietf.org/doc/html/rfc7644 SCIM
     - iRODS would be a client
     - https://github.com/harrykodden/scim
     - An irods plugin
       - https://github.com/HarryKodden/scim/commit/06aa44dc20ce6eac94d6408df11f579645261d18 
       - Handles transferring ownership in case of an empty group
 - FIPS compliance
   - Has started, part of full migration to tokens
     - https://github.com/irods/irods/issues/3403 
   - Working to remove known MD5/SHA1 codepaths
     - Hash the user password for challenge string on the wire
       - Not planned for removal - instead, will introduce new authentication scheme
     - Enqueueing the id of the delay rules
       - Done: https://github.com/irods/irods/commit/986f3b9235a862d7c225f8bf47ddaf25ba62a708
     - Mockarchive to generate physical paths
       - Done: https://github.com/irods/irods/commit/39e744d723c5695da3d405116c035ede0c5c4fd6 
     - Decoder ring uses multiple MD5 in the loops
       - Not planned for removal - instead, will introduce new authentication scheme
     - Checksum algorithm for data objects
       - SHA256 is already the default since 4.2.0
         - https://github.com/irods/irods/issues/3321 
       - Server will at some pointâ€¦ no longer support MD5
       - Alan's branch ignores this because 'just' deprecation/policy
     - Hash signed zone keys during server-to-server negotiations
       - Replace with SHA256, depending on the server version
 - New built-in authentication scheme - 'irods'
   - https://github.com/irods/irods/issues/8697
 - Need to document 'just pam_interactive' works with:
   - Kerberos (use kinit to auth with Kerberos; use token to auth with iRODS)
     - https://manpages.ubuntu.com/manpages/jammy/man8/pam_sss_gss.8.html 
   - OpenID
     - In production at SURF / SRAM
     - https://gitlab.kodden.nl/harry/PAM_Access_Token
     - Coupled with the synchronization above (LDAP/SRAM/AD user/groups)
       - Without the sync, require the mapping more manually
     - OIDC device code flow? For CLI applications
       - Probably already solved because it's just an access token
 - Alan
   - We could investigate providing a PAM module which implements 'irods' authentication
 - Claudio
   - Anything with a web interface uses OIDC
   - Some services still use the command line interface, but it's not the most friendly for the user
   - Consider introducing a unified system for auth
     - Could support multiple things through a mechanism similar to OAuth2 scopes - e.g. tickets
     - Removes the need for things like the anonymous account
 - Next Meeting
   - January 2026
